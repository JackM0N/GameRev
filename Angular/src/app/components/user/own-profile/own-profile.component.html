
<div class="grow min-h-lvh z-10 text-white bg-repeat m-0 font-arcade py-10 flex-row justify-center items-center caret-[#fb049c]">
    <div class="pixel-border max-[900px]:w-[390px] min-[900px]:w-5/6 h-fit p-[6px] m-auto max-w-[1200px]">
        <div class="synthwaveFloor bg-contain bg-no-repeat bg-bottom z-10 flex max-[899px]:flex-col-reverse justify-center bg-black">
            <div class="z-20 w-fit inline-block pt-4 ml-8">
                <form class="group m-auto relative w-fit" [formGroup]="changeProfilePictureForm" (ngSubmit)="onSubmitProfilePictureChange()">
                    <input class="z-50 peer bg-white w-36 h-32 absolute top-28 left-[10px] opacity-0" type="file" id="profilePicture" (change)="onFileSelected($event)" formControlName="profilePicture">
                    <p class="z-40 peer-hover:hidden text-center text-lg pinkTextShadowWide w-36 absolute top-[150px] left-[18px] hover:invisible">Change me</p>
                    <button class="pinkTextShadow text-white animate-pulse disabled:opacity-30 disabled:animate-none text-xl font-arcade mt-4" [disabled]="!changeProfilePictureForm.valid">Save avatar</button>
                </form>

                <div class="screenHead w-80 h-80 py-7 mt-8 z-50">
                    <img  class="max-w-32 max-h-32 m-auto -z-10 relative" *ngIf="imageUrl" [src]="imageUrl" alt="Loaded Image" />
                </div>
            </div>

            <div class="w-full inline-block pinkTextShadow p-4 px-8 flex flex-col">
                <div class="text-xl w-fit">Profile information</div>
                <form class="text-base flex flex-col" autocomplete="off" [formGroup]="changeProfileInformationForm" (ngSubmit)="onSubmitProfileInformationChange()">
                    <div class="mt-2">
                        <label class="w-full block">Enter your new nickname</label>
                        <input class="text-black px-1 w-[314px] h-7" maxlength="20" placeholder="Input nickname" formControlName="nickname"/>
                    </div>

                    <div class="flex flex-col mt-2">
                        <label class="w-full block">Description</label>
                        <textarea class="max-h-[112px] min-h-[112px] h-[112px] w-full text-black px-1 resize-none" formControlName="description"></textarea>
                    </div>

                    <div class="mt-2">
                        <label class="block">Enter your password</label>
                        <div class="flex items-center w-[314px] bg-white h-[28px]">
                            <input class="px-1 h-full w-[56] text-black appearance-none" autocomplete="off" [type]="hidePassword() ? 'password' : 'text'" formControlName="currentPassword" required />
                            <button class="px-1 flex items-center text-black"
                            matSuffix
                            type="button"
                            (mousedown)="hidePasswordClickEvent($event)"
                            [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hidePassword()"
                            >
                                <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button class="text-lg pinkTextShadow pinkTextShadow text-white disabled:opacity-30" [disabled]="!changeProfileInformationForm.valid">Change profile</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="pixel-border max-[900px]:w-[390px] min-[900px]:w-5/6 h-[235px] py-[6px] m-auto max-w-[1200px] my-10 text-base pinkTextShadow flex">
        <div class="px-8 py-4 h-full w-fit mx-[6px] bg-no-repeat bg-right z-0 flex flex-col bg-black">
            <h3 class="text-xl">Change email</h3>

            <form autocomplete="off" [formGroup]="changeEmailForm" (ngSubmit)="onSubmitEmailChange()">
                <div class="mt-2">
                    <label>Enter new email</label>
                    <input class="w-full text-black px-1 h-7" placeholder="pat@example.com" formControlName="email" (blur)="updateEmailErrorMessage()" required/>
                    <mat-error *ngIf="isEmailInvalid()">{{ emailErrorMessage() }}</mat-error>
                </div>

                <div class="mt-2">
                    <label>Enter password</label>
                    <div class="flex items-center w-full bg-white h-[28px]">
                        <input class="px-1 h-full text-black" autocomplete="off" [type]="hidePassword() ? 'password' : 'text'" formControlName="currentPassword" required />
                        <button class="px-1 flex items-center text-black"
                        matSuffix
                        type="button"
                        (mousedown)="hidePasswordClickEvent($event)"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hidePassword()"
                        >
                            <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                    </div>
                </div>

                <div class="mt-4">
                    <button class="text-white pinkTextShadow text-lg disabled:opacity-30" [disabled]="!changeEmailForm.valid">Save email</button>
                </div>
            </form>
        </div>
        <div class="neonAtSymbols w-full h-full bg-cover bg-no-repeat -ml-5"></div>
    </div>

    <div class="pixel-border max-[900px]:w-[390px] min-[900px]:w-5/6 h-[295px] py-[6px] m-auto max-w-[1200px] my-10 text-base pinkTextShadow flex">
        <div class="px-8 py-4 h-full w-fit ml-[6px] bg-no-repeat bg-right z-0 flex flex-col bg-black">
            <h3 class="text-xl">Change password</h3>

            <form autocomplete="off" [formGroup]="changePasswordForm" (ngSubmit)="onSubmitPasswordChange()">
                <div class="mt-2">
                    <label>Enter current password</label>
                    <div class="flex items-center w-full bg-white h-[28px]">
                        <input class="px-1 h-full text-black" [type]="hidePassword() ? 'password' : 'text'" formControlName="currentPassword" required />
                        <button class="px-1 flex items-center text-black"
                        matSuffix
                        type="button"
                        (mousedown)="hidePasswordClickEvent($event)"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hidePassword()"
                        >
                            <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                    </div>
                </div>

                <div class="mt-2">
                    <label>Enter new password</label>
                    <div class="flex items-center w-full bg-white h-[28px]">
                        <input class="px-1 h-full text-black" [type]="hidePassword() ? 'password' : 'text'" formControlName="password" required />
                        <button class="px-1 flex items-center text-black"
                        matSuffix
                        type="button"
                        (mousedown)="hidePasswordClickEvent($event)"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hidePassword()"
                        >
                            <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                    </div>
                </div>

                <div class="mt-2">
                    <label>Confirm new password</label>
                    <div class="flex items-center w-full bg-white h-[28px]">
                        <input class="px-1 h-full text-black" [type]="hidePassword() ? 'password' : 'text'" formControlName="confirmPassword" (blur)="updatePasswordMismatchErrorMessage()" required />
                        <button class="px-1 flex items-center text-black"
                        matSuffix
                        type="button"
                        (mousedown)="hidePasswordClickEvent($event)"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hidePassword()"
                        >
                            <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                    </div>
                </div>

                <mat-error class="bottom-mat-error" *ngIf="isPasswordMismatch()">{{ passwordMismatchErrorMessage() }}</mat-error>

                <div class="mt-4">
                    <button class="text-white pinkTextShadow text-lg disabled:opacity-30" [disabled]="!changePasswordForm.valid">Save password</button>
                </div>
            </form>
        </div>
        <div class="neonStarsSymbols w-full h-full bg-cover bg-no-repeat bg-left max-[900px]:-ml-20"></div>
    </div>

    <div class="pixel-border w-48 h-fit py-[6px] m-auto mb-8 px-[6px]">
        <div class="flex justify-center font-arcade text-3xl bg-black">
            <button class="text-white" (click)="routeToOwnReviews()">Check own reviews</button>
        </div>
    </div>

    <div class="pixel-border w-36 h-fit py-[6px] m-auto mb-8 px-[6px]">
        <div class="flex justify-center font-arcade text-xl bg-black w-full">
            <button class="text-white w-full" (click)="openLogoutDialog()">Logout</button>
        </div>
    </div>

    <div class="pixel-border w-72 h-fit p-[6px] m-auto">
        <div class="flex justify-center font-arcade text-xl bg-red-600 w-full">
            <button class="w-full" (click)="openAccountDeletionDialog()">Delete account</button>
        </div>
    </div>
</div>
