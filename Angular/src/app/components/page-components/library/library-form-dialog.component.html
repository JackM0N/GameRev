
<form class="font-arcade pixel-border h-fit p-[6px] max-w-[400px] text-white text-base caret-[#fb049c] pinkTextShadowWide" [formGroup]="libraryForm" (ngSubmit)="onConfirm()">
  
  <div class="w-full py-4 px-6 synthwaveFloor bg-contain bg-no-repeat bg-bottom z-10 flex flex-col justify-center bg-black">
    <p class="text-2xl text-center mb-2">{{title}}</p>

    <div class="mt-2 mb-1">
      <label>Game</label>
      <mat-select class="border-2 bg-white text-black noTextShadow" formControlName="game">
        <mat-option>-</mat-option>
        @for (game of gameList; track game) {
          <mat-option [value]="game">{{game.title}}</mat-option>
        }
      </mat-select>
      @if (isGameInvalid()) {
        <mat-error class="text-red-500">Please choose a game</mat-error>
      }
    </div>

    <div class="mt-2 mb-1">
      <label>Completion status</label>
      <mat-select class="border-2 bg-white text-black noTextShadow" formControlName="completionStatus">
        <mat-option>-</mat-option>
        @for (status of completionStatuses; track status) {
          <mat-option [value]="status.className">{{status.name}}</mat-option>
        }
      </mat-select>
      @if (isCompletionStatusInvalid()) {
        <mat-error class="text-red-500">Please choose a status</mat-error>
      }
    </div>

    <div class="mt-2 mb-1">
      <label>Favorite</label>
      <mat-select class="border-2 bg-white text-black noTextShadow" formControlName="isFavourite">
        <mat-option [value]="false">False</mat-option>
        <mat-option [value]="true">True</mat-option>
      </mat-select>
    </div>

    <div class="font-arcade text-xl flex justify-center gap-3 mt-4">
      <div class="pixel-border w-32 h-fit py-[6px] px-[6px]">
        <div class="bg-red-700 text-center">
          <button class="px-[10px]" type="button" (click)="onCancel()">Cancel</button>
        </div>
      </div>
      
      <div class="pixel-border w-32 h-fit py-[6px] px-[6px]">
        <div class="bg-green-600 text-center">
          <button class="px-[10px] disabled:opacity-30" type="submit" [disabled]="!libraryForm.valid">Update</button>
        </div>
      </div>
    </div>

  </div>
</form>
