
<h1 mat-dialog-title>{{editing ? "Editing a forum": "Adding a new forum"}}</h1>

<form [formGroup]="forumForm" (ngSubmit)="onConfirm()">
  <div>
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input matInput formControlName="name">
    </mat-form-field>

    <div *ngIf="forumForm.get('name')?.hasError('minLength')" class="p-2 text-red-600">
      Name must be at least {{ nameMinLength }} characters long.
    </div>
  </div>

  <div>
    <mat-form-field>
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <div *ngIf="forumForm.get('description')?.hasError('minLength')" class="p-2 text-red-600">
      Description must be at least {{ descriptionMinLength }} characters long.
    </div>
  </div>

  <mat-form-field>
    <mat-label>Game</mat-label>
    <mat-select formControlName="game">
        <mat-option>-</mat-option>
        @for (game of gameList; track game) {
          <mat-option [value]="game">{{game.title}}</mat-option>
        }
    </mat-select>
    @if (isGameInvalid()) {
      <mat-error>Please choose a game</mat-error>
    }
  </mat-form-field>

  <div mat-dialog-actions>
    <button mat-button type="button" (click)="onCancel()">Cancel</button>
    <button mat-button type="submit" [disabled]="!forumForm.valid">Submit</button>
  </div>
</form>
